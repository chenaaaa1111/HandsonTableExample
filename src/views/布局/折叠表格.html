<html>

<head>
    <title>jquery表格展开折叠代码</title>
    <style>
        *{ margin:0; padding:0; font-family:"微软雅黑"; font-size:12px;}
.big_table{ border:1px soild #EBEBEB;border-collapse:collapse;margin-top:200px;width:1400px;}
.inner_table{ border:1px soild #EBEBEB;border-collapse:collapse;width:1400px;}
td{ font:normal 12px/17px Arial;text-align:left;}
th{ font:bold 12px/17px Arial;text-align:left;border-bottom:1px solid #333;}
.big_table tr td:first-child{position:relative;}
/*.big_table tr th:first-child{width:20px;}*/
.some{ background:#EEEEEE;}
.odd{ background:#FFFFEE;}
.selected{ background:#FF6500;color:#fff;}
button {position: absolute;top:0px;cursor: pointer; width: 20px; height: 15px;text-indent: 100%;overflow: hidden; border: 0; background: transparent;text-align: center;}
button:before { content: '+'; display: block; width: 100%; text-align: center; text-indent: 0; }
button[state=close]:before { content: '-'; }
</style>
    <script src="http://www.codefans.net/ajaxjs/jquery1.3.2.js" type="text/javascript"></script>
    <script type="text/javascript">
        $(function () {
            //	$('.big_table').children("tr:ood").css('background','red');
            //	$('.big_table tr').eq(0).siblings().find(":odd").css('background','green');
            $('button').click(function () { // 获取所谓的父行
                var $this = $(this).parents("tr");
                if ($(this).attr("state") == "close") {
                    $(this).attr("state", "open");
                } else if ($(this).attr("state") == "open") {
                    $(this).attr("state", "close");
                }
                var name = $this.attr("class");
                var tr_id = $this.attr("tr_id");

                $this.nextAll("tr[tr_id=table_" + tr_id + "]").toggle(); // 隐藏/显示所谓的子行
            });
        })
    </script>
</head>

<body>
    <div style="width:1400px;margin:0 auto;">
        <table class="big_table">
            <colgroup>
                <col style="width: 20px;">
                <col style="width: 50px;">
                <col style="width: 80px;">
                <col style="width: 50px;">
                <col style="width: 60px;">
                <col style="width: 60px;">
                <col style="width: 60px;">
                <col style="width: 60px;">
                <col style="width: 60px;">
                <col style="width: 60px;">
                <col style="width: 60px;">
                <col style="width: 60px;">
                <col style="width: 60px;">
                <col style="width: 80px;">
                <col style="width: 80px;">
                <col style="width: 80px;">
            </colgroup>
            <thead>
                <tr>
                    <th sytle="width:20px;"></th>
                    <th sytle="width:50px;">id</th>
                    <th sytle="width:60px;">名称</th>
                    <th>父级id</th>
                    <th>父级信息</th>
                    <th>层次级数</th>
                    <th>排列顺序</th>
                    <th>删除标志</th>
                    <th>是应用</th>
                    <th>需要权限</th>
                    <th>可用</th>
                    <th>isSys</th>
                    <th>目录路径</th>
                    <th>应用模板</th>
                    <th>模板名称</th>
                    <th>js文件</th>
                </tr>
            </thead>
            <tbody>
                <tr class="some" tr_id="1">
                    <td><button state="close">content</button></td>
                    <td>1</td>
                    <td>系统应用管理</td>
                    <td></td>
                    <td>0</td>
                    <td>1</td>
                    <td>1</td>
                    <td>x</td>
                    <td>v</td>
                    <td>v</td>
                    <td>v</td>
                    <td>v</td>
                    <td>sysadmin/sys_app</td>
                    <td>tpl.html</td>
                    <td>main_frame</td>
                    <td>main_frame.js</td>
                </tr>
                <tr tr_id="table_1">
                    <td colspan="16">
                        <table class="inner_table">
                            <colgroup>
                                <col style="width: 20px;">
                                <col style="width: 50px;">
                                <col style="width: 80px;">
                                <col style="width: 50px;">
                                <col style="width: 60px;">
                                <col style="width: 60px;">
                                <col style="width: 60px;">
                                <col style="width: 60px;">
                                <col style="width: 60px;">
                                <col style="width: 60px;">
                                <col style="width: 60px;">
                                <col style="width: 60px;">
                                <col style="width: 60px;">
                                <col style="width: 80px;">
                                <col style="width: 80px;">
                                <col style="width: 80px;">
                            </colgroup>
                            <tbody>
                                <tr class="some" tr_id="1_1">
                                    <td><button style="left:15px;" state="close">content</button></td>
                                    <td>　1</td>
                                    <td>系统应用管理</td>
                                    <td></td>
                                    <td>0</td>
                                    <td>1</td>
                                    <td>1</td>
                                    <td>x</td>
                                    <td>v</td>
                                    <td>v</td>
                                    <td>v</td>
                                    <td>v</td>
                                    <td>sysadmin/sys_app</td>
                                    <td>tpl.html</td>
                                    <td>main_frame</td>
                                    <td>main_frame.js</td>
                                </tr>

                                <tr tr_id="table_1_1">
                                    <td colspan="16">
                                        <table class="inner_table">
                                            <colgroup>
                                                <col style="width: 20px;">
                                                <col style="width: 50px;">
                                                <col style="width: 80px;">
                                                <col style="width: 50px;">
                                                <col style="width: 60px;">
                                                <col style="width: 60px;">
                                                <col style="width: 60px;">
                                                <col style="width: 60px;">
                                                <col style="width: 60px;">
                                                <col style="width: 60px;">
                                                <col style="width: 60px;">
                                                <col style="width: 60px;">
                                                <col style="width: 60px;">
                                                <col style="width: 80px;">
                                                <col style="width: 80px;">
                                                <col style="width: 80px;">
                                            </colgroup>
                                            <tbody>
                                                <tr tr_id="1_1">
                                                    <td></td>
                                                    <td>　　1_1</td>
                                                    <td>系统应用管理</td>
                                                    <td></td>
                                                    <td>0</td>
                                                    <td>1</td>
                                                    <td>1</td>
                                                    <td>x</td>
                                                    <td>v</td>
                                                    <td>v</td>
                                                    <td>v</td>
                                                    <td>v</td>
                                                    <td>sysadmin/sys_app</td>
                                                    <td>tpl.html</td>
                                                    <td>main_frame</td>
                                                    <td>main_frame.js</td>
                                                </tr>
                                                <tr tr_id="1_2">
                                                    <td></td>
                                                    <td>　　1_2</td>
                                                    <td>系统应用管理</td>
                                                    <td></td>
                                                    <td>0</td>
                                                    <td>1</td>
                                                    <td>1</td>
                                                    <td>x</td>
                                                    <td>v</td>
                                                    <td>v</td>
                                                    <td>v</td>
                                                    <td>v</td>
                                                    <td>sysadmin/sys_app</td>
                                                    <td>tpl.html</td>
                                                    <td>main_frame</td>
                                                    <td>main_frame.js</td>
                                                </tr>
                                            </tbody>
                                        </table>

                                    </td>
                                </tr>
                                <tr tr_id="1_1">
                                    <td></td>
                                    <td>　1</td>
                                    <td>系统应用管理</td>
                                    <td></td>
                                    <td>0</td>
                                    <td>1</td>
                                    <td>1</td>
                                    <td>x</td>
                                    <td>v</td>
                                    <td>v</td>
                                    <td>v</td>
                                    <td>v</td>
                                    <td>sysadmin/sys_app</td>
                                    <td>tpl.html</td>
                                    <td>main_frame</td>
                                    <td>main_frame.js</td>
                                </tr>
                                <tr tr_id="1_2">
                                    <td></td>
                                    <td>　1</td>
                                    <td>系统应用管理</td>
                                    <td></td>
                                    <td>0</td>
                                    <td>1</td>
                                    <td>1</td>
                                    <td>x</td>
                                    <td>v</td>
                                    <td>v</td>
                                    <td>v</td>
                                    <td>v</td>
                                    <td>sysadmin/sys_app</td>
                                    <td>tpl.html</td>
                                    <td>main_frame</td>
                                    <td>main_frame.js</td>
                                </tr>
                            </tbody>
                        </table>
                    </td>
                </tr>
                <tr class="some" tr_id="2">
                    <td><button state="close">content</button></td>
                    <td>1</td>
                    <td>系统应用管理</td>
                    <td></td>
                    <td>0</td>
                    <td>1</td>
                    <td>1</td>
                    <td>x</td>
                    <td>v</td>
                    <td>v</td>
                    <td>v</td>
                    <td>v</td>
                    <td>sysadmin/sys_app</td>
                    <td>tpl.html</td>
                    <td>main_frame</td>
                    <td>main_frame.js</td>
                </tr>
                <tr tr_id="table_2">
                    <td colspan="16">
                        <table class="inner_table">
                            <colgroup>
                                <col style="width: 20px;">
                                <col style="width: 50px;">
                                <col style="width: 80px;">
                                <col style="width: 50px;">
                                <col style="width: 60px;">
                                <col style="width: 60px;">
                                <col style="width: 60px;">
                                <col style="width: 60px;">
                                <col style="width: 60px;">
                                <col style="width: 60px;">
                                <col style="width: 60px;">
                                <col style="width: 60px;">
                                <col style="width: 60px;">
                                <col style="width: 80px;">
                                <col style="width: 80px;">
                                <col style="width: 80px;">
                            </colgroup>
                            <tbody>
                                <tr tr_id="2_1">
                                    <td></td>
                                    <td>　1</td>
                                    <td>系统应用管理</td>
                                    <td></td>
                                    <td>0</td>
                                    <td>1</td>
                                    <td>1</td>
                                    <td>x</td>
                                    <td>v</td>
                                    <td>v</td>
                                    <td>v</td>
                                    <td>v</td>
                                    <td>sysadmin/sys_app</td>
                                    <td>tpl.html</td>
                                    <td>main_frame</td>
                                    <td>main_frame.js</td>
                                </tr>
                                <tr tr_id="2_2">
                                    <td></td>
                                    <td>　1</td>
                                    <td>系统应用管理</td>
                                    <td></td>
                                    <td>0</td>
                                    <td>1</td>
                                    <td>1</td>
                                    <td>x</td>
                                    <td>v</td>
                                    <td>v</td>
                                    <td>v</td>
                                    <td>v</td>
                                    <td>sysadmin/sys_app</td>
                                    <td>tpl.html</td>
                                    <td>main_frame</td>
                                    <td>main_frame.js</td>
                                </tr>
                            </tbody>
                        </table>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</body>

</html>